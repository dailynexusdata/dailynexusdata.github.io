<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.11.0"/><style data-styled="" data-styled-version="5.3.0">html{font-family:Helvetica,Arial,sans-serif;}/*!sc*/
body{margin:0;}/*!sc*/
data-styled.g1[id="sc-global-jMxLmB1"]{content:"sc-global-jMxLmB1,"}/*!sc*/
.igYZkv{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
data-styled.g2[id="page__Main-sc-1n2oomk-0"]{content:"igYZkv,"}/*!sc*/
.jUrzuo{width:800px;}/*!sc*/
data-styled.g3[id="page__Content-sc-1n2oomk-1"]{content:"jUrzuo,"}/*!sc*/
.cdzBck{border:0;border-top:2px solid #d3d3d3;}/*!sc*/
data-styled.g4[id="layout__Divider-sc-1txw4l5-0"]{content:"cdzBck,"}/*!sc*/
.dSsnFp{margin:40px 0 0 0;}/*!sc*/
data-styled.g5[id="layout__StyledH2-sc-1txw4l5-1"]{content:"dSsnFp,"}/*!sc*/
.clwHHw{margin:20px 0 0 0;}/*!sc*/
data-styled.g6[id="layout__h3-sc-1txw4l5-2"]{content:"clwHHw,"}/*!sc*/
.ibQabC{margin:5px 0;}/*!sc*/
data-styled.g7[id="layout__p-sc-1txw4l5-3"]{content:"ibQabC,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-6022bf0d5ed3c7d3a783.js"/><link as="script" rel="preload" href="/framework-e15f58839f4f90413187.js"/><link as="script" rel="preload" href="/app-55afc823591921ec535c.js"/><link as="script" rel="preload" href="/commons-ba21ccea5f01ca156d3b.js"/><link as="script" rel="preload" href="/96db2ef9e2a6e16ba3a4a56d565625fdd70c7624-eb3275a3d96b1642b64d.js"/><link as="script" rel="preload" href="/component---src-guides-wrangling-md-74b9b33bfc4420826177.js"/><link as="fetch" rel="preload" href="/page-data/wrangling/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><title>Daily Nexus Data</title><img src="/static/headerLogo-e520282d3c5e62f2922ff2f6fb160a7f.png" alt="Daily Nexus Labyrinth Header"/><a href="/guides">Guides</a><main class="page__Main-sc-1n2oomk-0 igYZkv"><div class="page__Content-sc-1n2oomk-1 jUrzuo"><h1>Data Wrangling and Manipulation in JS</h1><p class="layout__p-sc-1txw4l5-3 ibQabC">This guide goes over 3 major concepts:</p><ul><li>Array Operations</li><li>Javascript Objects</li><li>Wrangling in D3</li></ul><hr class="layout__Divider-sc-1txw4l5-0 cdzBck"/><h2 class="layout__StyledH2-sc-1txw4l5-1 dSsnFp">Array Operations</h2><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> myArr </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token number" style="color:#063289">1</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">2</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">3</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">4</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">5</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">6</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">7</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">8</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">9</span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><h3 class="layout__h3-sc-1txw4l5-2 clwHHw">Map</h3><p class="layout__p-sc-1txw4l5-3 ibQabC">Map returns an array where a function is applied to each element of the original array.</p><p class="layout__p-sc-1txw4l5-3 ibQabC">Using <code>.map()</code> to return an array of the squares of <code>myArr</code>.</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> squares </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> myArr</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">map</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">x</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> x</span><span class="token operator" style="color:#063289">**</span><span class="token number" style="color:#063289">2</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">squares</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// [1, 4, 9, 16, 25, 36, 49, 64, 81]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><p class="layout__p-sc-1txw4l5-3 ibQabC">We can also use more complex functions:</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> factorials </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> myArr</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">map</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">let</span><span class="token plain"> prod </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token number" style="color:#063289">1</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#728fcb">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token keyword" style="color:#728fcb">let</span><span class="token plain"> i </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token number" style="color:#063289">1</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> i </span><span class="token operator" style="color:#063289">&lt;=</span><span class="token plain"> x</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> </span><span class="token operator" style="color:#063289">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        prod </span><span class="token operator" style="color:#063289">*=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#728fcb">return</span><span class="token plain"> prod</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">factorials</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// [1, 2, 6, 24, 120, 720, 5040, 40320, 362880]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><p class="layout__p-sc-1txw4l5-3 ibQabC">The index of the element is passed in as the second item:</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> indices </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> myArr</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">map</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:#b6ad9a">,</span><span class="token parameter"> i</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> i</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">indices</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// [0, 1, 2, 3, 4, 5, 6, 7, 8]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><h3 class="layout__h3-sc-1txw4l5-2 clwHHw">Filter</h3><p class="layout__p-sc-1txw4l5-3 ibQabC">Filter returns an array of elements in the original array that meet a condition.</p><p class="layout__p-sc-1txw4l5-3 ibQabC">Get the even numbers of the array using <code>.filter()</code>. The <code>%</code> is the modulus operator which returns the remained after a division. When you divide an even number by 2, there should be a remainder of zero. .filter() returns the values where the passed in function returns <code>true</code>.</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> evenNumbers </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> myArr</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">filter</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">x</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:#063289">%</span><span class="token plain"> </span><span class="token number" style="color:#063289">2</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">evenNumbers</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// [2, 4, 6, 8]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><hr class="layout__Divider-sc-1txw4l5-0 cdzBck"/><h2 class="layout__StyledH2-sc-1txw4l5-1 dSsnFp">Javascript Objects</h2><p class="layout__p-sc-1txw4l5-3 ibQabC">Objects are key-value collections of data.</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> myObj </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    name</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Labyrinth&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    nWriters</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">5</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><p class="layout__p-sc-1txw4l5-3 ibQabC">We can access items by their key:</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">myObj</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// &quot;Labyrinth&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><h3 class="layout__h3-sc-1txw4l5-2 clwHHw">Object Destructuring</h3><p class="layout__p-sc-1txw4l5-3 ibQabC">We can values out of objects into individual variables with the same name as follows: </p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> nWriters </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> myObj</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> nWriters</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// &quot;Labyrinth&quot;, 5</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><hr class="layout__Divider-sc-1txw4l5-0 cdzBck"/><h2 class="layout__StyledH2-sc-1txw4l5-1 dSsnFp">Wrangling with D3</h2><p class="layout__p-sc-1txw4l5-3 ibQabC">Often times our data will be arrays of objects. This array contains data for 3 students.</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> students </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> major</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Math&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> gpa</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">3.00</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> major</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Compsci&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> gpa</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">3.50</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> major</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Compsci&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> gpa</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">3.75</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><h3 class="layout__h3-sc-1txw4l5-2 clwHHw">d3.max()</h3><p class="layout__p-sc-1txw4l5-3 ibQabC">We can get the max gpa of all students:</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> maxGpa </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> d3</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">max</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">students</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token parameter">d</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> d</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">gpa</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">maxGpa</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token comment" style="color:#b6ad9a">// 3.75</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><p class="layout__p-sc-1txw4l5-3 ibQabC">The first argument passed into <code>d3.max()</code> has to be an array of values, then the second argument can be a function that returns a value for each element in the passed in array.</p><h3 class="layout__h3-sc-1txw4l5-2 clwHHw">d3.nest()</h3><p class="layout__p-sc-1txw4l5-3 ibQabC">Often, we&#x27;ll want to group data by a common value. Here, we&#x27;re going to group together students with the same major using <code>d3.nest()</code></p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> nestedData </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> d3Collection</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">nest</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">key</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">d</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> d</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">major</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">entries</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">students</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">nestedData</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// [</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//   { </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//       key: &#x27;Math&#x27;, </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//       values: [ { major: &#x27;Math&#x27;, gpa: 3 } ],</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//   },</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//   { </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//       key: &#x27;Compsci&#x27;, </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//       values: [ </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//           { major: &#x27;Compsci&#x27;, gpa: 3.5 }, </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//           { major: &#x27;Compsci&#x27;, gpa: 3.75 } </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//       ] </span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">//   }</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// ]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><p class="layout__p-sc-1txw4l5-3 ibQabC">Here, we tell d3 that we want to group values by the major, by passing in a function to get the major value in <code>.key()</code>. Then we pass the entire array in with <code>.entries()</code>.</p><p class="layout__p-sc-1txw4l5-3 ibQabC">If we wanted to get the max GPA by department, we can map this array and then use <code>d3.max()</code> to get the max value form each department&#x27;s <code>values</code> key.</p><pre><pre class="prism-code language-js" style="background-color:#faf8f5;color:#728fcb;padding:10px;font-size:12pt;margin:10px 0"><div class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> maxGpaByDept </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> nestedData</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">map</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter punctuation" style="color:#b6ad9a">{</span><span class="token parameter"> key</span><span class="token parameter punctuation" style="color:#b6ad9a">,</span><span class="token parameter"> values </span><span class="token parameter punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    key</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    maxGPA</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> d3</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">max</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">values</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">d</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> d</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">gpa</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">maxGpaByDept</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// [ { key: &#x27;Math&#x27;, maxGPA: 3 }, { key: &#x27;Compsci&#x27;, maxGPA: 3.75 } ]</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"></div></pre></pre><hr class="layout__Divider-sc-1txw4l5-0 cdzBck"/></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wrangling/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-bc56be5c9dadf6249bad.js"],"app":["/app-55afc823591921ec535c.js"],"component---src-guides-d-3-scales-md":["/component---src-guides-d-3-scales-md-0b5355f49123f78175a9.js"],"component---src-guides-installation-md":["/component---src-guides-installation-md-7e86e1854d3fe84f6a39.js"],"component---src-guides-wrangling-md":["/component---src-guides-wrangling-md-74b9b33bfc4420826177.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d5fac7226b8caad0bfa1.js"],"component---src-pages-guides-js":["/component---src-pages-guides-js-c49b4924b9e1b4a6bea0.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5799487d43aae93385c2.js"]};/*]]>*/</script><script src="/polyfill-bc56be5c9dadf6249bad.js" nomodule=""></script><script src="/component---src-guides-wrangling-md-74b9b33bfc4420826177.js" async=""></script><script src="/96db2ef9e2a6e16ba3a4a56d565625fdd70c7624-eb3275a3d96b1642b64d.js" async=""></script><script src="/commons-ba21ccea5f01ca156d3b.js" async=""></script><script src="/app-55afc823591921ec535c.js" async=""></script><script src="/framework-e15f58839f4f90413187.js" async=""></script><script src="/webpack-runtime-6022bf0d5ed3c7d3a783.js" async=""></script></body></html>